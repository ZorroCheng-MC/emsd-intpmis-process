![{{DEPARTMENT_LOGO}}](media/image1.jpg)

# SYSTEM INSTALLATION PLAN

**FOR**

**{{PROJECT_FULL_NAME}}**

**{{PROJECT_SHORT_NAME}}**

**OF**

**{{DEPARTMENT_NAME}}**

**Version: 0.1**

**Jan 2025**

? The Government of the Hong Kong Special Administrative Region

The contents of this document remain the property of and may not be reproduced in whole or in part without the express permission of the Government of the HKSAR.

| Distribution | N/A |
|-------------|-------------------------------------| N/A |---|---| N/A | Copy No.    | Holder                              | N/A |---|---| N/A | 1           | {{DEPARTMENT_NAME}} | N/A |---|---| N/A | 2           | Master Concept (Hong Kong) Limited (MC) | N/A |---|---| N/A | Amendment History | N/A |                | N/A |           | N/A |
|------------------|------------------------|----------------|------------|-----------|-----------| N/A |---|---|---|---|---|---| N/A | Change Number    | Revision Description   | Pages Affected | Revision / | Date      | Approval  | N/A |                  | N/A | on Respective  | Version    | N/A | Reference | N/A |                  | N/A | Version        | Number     | N/A |           | N/A |---|---|---|---|---|---| N/A | 1                | 1st draft             | All            | 0.1        | 16/01/225 | N/A |
|---|---|---|---|---|---|
# TABLE OF CONTENTS

[1. Introduction](#introduction)

[2. Project Environment Description](#project-environment-description)
- [2.1 Network Diagram](#network-diagram)
- [2.2 Hardware Specification](#hardware-specification)
- [2.3 Software Specification](#software-specification)

[3. Application Deployment Procedure for Production](#application-deployment-procedure-for-production)
- [3.1 Database Server](#database-server)
- [3.2 Backend Servers](#backend-servers)
- [3.3 Frontend Servers](#frontend-servers)
  - [3.3.1 sFTP Server Setup](#sftp-server-setup)

[4. System Installation Schedule and Result](#system-installation-schedule-and-result)
- [4.1 System Installation Schedule](#system-installation-schedule)
- [4.2 System Installation Result](#system-installation-result)

# Introduction

The System Installation plan describes the procedure and schedule for deploying the application in the production environment, including 3 parts of the system:

- Database Server
- Backend Server
- Frontend and Web Portal Server

# Project Environment Description

## Network Diagram

Below is a logical network diagram in {{LOCATION}} for production and UAT site.

[DIAGRAM HERE]

The network will be separated into three zones: DMZ, trusted zone, and storage network.

A two-tier firewall setup will be used to form the trusted zone and DMZ. Incoming network traffic to the system must go through the DMZ before entering the trusted zone.

To utilize hardware resources more effectively, servers listed in section [1.3.3], except the backup server, will be set up in the form of virtual machines (VM) and consolidated into DMZ VM host servers and trusted zone VM host servers for each physical site. Two VM host servers will be built in each zone for the purpose of high availability.

Similarly, storage needed by all servers will be consolidated and provided by SAN storage. A dedicated network will be set up and interconnected with the VM host servers. The backup server will also exist in this storage-dedicated network to carry out backup tasks of VM host servers in DMZ and trusted zone.

The diagram below illustrates the physical setup.

## Hardware Specification

Production and UAT environment:

List of machines and virtual machines:

| Hostname (Physical Machine) | Hostname (Virtual Machine) | Purpose | IP | N/A |---------------------------|---------------------------|---------|-----| N/A |---|---|---|---| N/A | {{PRD_DB_PHYSICAL}} | {{PRD_DB_VIRTUAL}} | {{DATABASE_TYPE}} Database Server | {{PRD_DB_IP}} | N/A |---|---|---|---| N/A | {{PRD_APP_PHYSICAL}} | {{PRD_APP_VIRTUAL}} | {{BACKEND_TYPE}} Backend Server | {{PRD_APP_IP}} | N/A |---|---|---|---| N/A | {{PRD_WEB_PHYSICAL}} | {{PRD_WEB_VIRTUAL}} | {{FRONTEND_TYPE}} Frontend Server | {{PRD_WEB_IP}} | N/A |---|---|---|---|
DR environment:

List of machines and virtual machines:

| Hostname (Physical Machine) | Hostname (Virtual Machine) | Purpose | IP | N/A |---------------------------|---------------------------|---------|-----| N/A |---|---|---|---| N/A | {{DR_DB_PHYSICAL}} | {{DR_DB_VIRTUAL}} | {{DATABASE_TYPE}} Database Server | {{DR_DB_IP}} | N/A |---|---|---|---| N/A | {{DR_APP_PHYSICAL}} | {{DR_APP_VIRTUAL}} | {{BACKEND_TYPE}} Backend Server | {{DR_APP_IP}} | N/A |---|---|---|---| N/A | {{DR_WEB_PHYSICAL}} | {{DR_WEB_VIRTUAL}} | {{FRONTEND_TYPE}} Frontend Server | {{DR_WEB_IP}} | N/A |---|---|---|---|
## Software Specification

| Machine | Hostname | Software Requirement | N/A |---------|----------|---------------------| N/A |---|---|---| N/A | {{DATABASE_TYPE}} Database Server | {{PRD_DB_VIRTUAL}} | {{DATABASE_TYPE}} {{DATABASE_VERSION}} | N/A |---|---|---| N/A | {{BACKEND_TYPE}} Backend Server | {{PRD_APP_VIRTUAL}} | {{BACKEND_TYPE}} {{BACKEND_VERSION}}, {{PROCESS_MANAGER}} {{PM_VERSION}} | N/A |---|---|---| N/A | {{FRONTEND_TYPE}} Frontend Server | {{PRD_WEB_VIRTUAL}} | {{WEB_SERVER}} {{WEB_SERVER_VERSION}}, {{FRONTEND_TYPE}} {{FRONTEND_VERSION}} | N/A |---|---|---|
Development Frameworks:

| Framework | Version | N/A |-----------|---------| N/A |---|---| N/A | {{FRONTEND_TYPE}} (frontend) | {{FRONTEND_VERSION}} | N/A |---|---| N/A | {{BACKEND_TYPE}} (backend) | {{BACKEND_VERSION}} | N/A |---|---| N/A | {{DATABASE_TYPE}} (database) | {{DATABASE_VERSION}} | N/A |---|---|
# Application Deployment Procedure for Production

## Database Server

To install database server, follow these steps:

1. Remote login to {{PRD_DB_VIRTUAL}}
2. Install {{DATABASE_TYPE}} Server {{DATABASE_VERSION}}
3. Install {{DATABASE_TYPE}} {{DATABASE_MANAGEMENT_TOOL}} {{DB_TOOL_VERSION}}
4. Configure {{DATABASE_TYPE}} Server with:
   - Authentication: {{DB_AUTH_METHOD}}
   - Enable networking on port {{DB_PORT}}
   - Configure firewall to allow {{DATABASE_TYPE}} port (default {{DB_PORT}})
   - Set up SSL/TLS encryption
5. Create database {{DATABASE_NAME}} with:
   - Character set: {{DB_CHARSET}}
   - Collation: {{DB_COLLATION}}
   - Initial size: {{DB_INITIAL_SIZE}}
6. Configure database backup schedule:
   - Daily incremental backup at {{DAILY_BACKUP_TIME}}
   - Weekly full backup on {{WEEKLY_BACKUP_DAY}} at {{WEEKLY_BACKUP_TIME}}
7. Configure database maintenance plan:
   - Weekly {{DB_MAINTENANCE_TASK}}
   - Daily statistics update
8. Configure database monitoring and alerts:
   - Space usage alerts at 85% and 95%
   - Performance alerts for slow queries
   - Connection limit alerts

## Backend Servers

1. Remote login into {{PRD_APP_VIRTUAL}}
2. Install prerequisites:
   - {{OS_TYPE}} updates
   - {{BACKEND_TYPE}} {{BACKEND_VERSION}}
   - {{PROCESS_MANAGER}} {{PM_VERSION}} (Process Manager)
   - Git for deployment
3. Install backend application:
   - Deploy {{BACKEND_TYPE}} API application files to {{BACKEND_DEPLOY_PATH}}
   - Configure {{PROCESS_MANAGER}} ecosystem file:
     - Environment: production
     - Instances: cluster mode ({{CLUSTER_INSTANCES}} instances)
     - Memory limit: {{MEMORY_LIMIT}} per instance
4. Configure application settings:
   - Update {{CONFIG_FILE}} with production values
   - Configure {{DATABASE_TYPE}} connection strings
   - Set up logging paths ({{LOG_PATH}})
5. Configure system services:
   - Set up {{PROCESS_MANAGER}} as system service
   - Configure log rotation
   - Set up service recovery options
6. Configure SSL certificates:
   - Install SSL certificate for HTTPS
   - Configure reverse proxy ({{WEB_SERVER}})
7. Configure {{WEB_SERVER}} reverse proxy:
   - Create virtual host configuration
   - Configure load balancing
   - Set up compression and caching rules

## Frontend Servers

1. Remote login into {{PRD_WEB_VIRTUAL}}
2. Install prerequisites:
   - {{OS_TYPE}} updates
   - {{WEB_SERVER}} {{WEB_SERVER_VERSION}}
   - {{BACKEND_TYPE}} {{BACKEND_VERSION}} (for build process)
   - Git for deployment
3. Install frontend application:
   - Deploy {{FRONTEND_TYPE}} application files to {{FRONTEND_DEPLOY_PATH}}
   - Build production assets using npm run build
   - Configure static file serving
   - Set up compression for static files
4. Configure {{WEB_SERVER}}:
   - Create virtual host configuration
   - Configure SSL certificates
   - Set up URL rewrite rules for SPA routing
   - Configure CORS headers
   - Set up gzip compression
5. Configure monitoring:
   - Set up {{WEB_SERVER}} access and error logging
   - Configure health check endpoints
   - Set up performance monitoring
   - Configure log rotation

### sFTP Server Setup

1. Install OpenSSH server in {{OS_TYPE}}:
   - Update package repository: {{PACKAGE_UPDATE_CMD}}
   - Install OpenSSH server: {{SSH_INSTALL_CMD}}
   - Enable SSH service: {{SSH_ENABLE_CMD}}
2. Configure OpenSSH server:
   - Create dedicated service account for {{PROJECT_SHORT_NAME}}
   - Configure authentication methods in /etc/ssh/sshd_config
   - Set up SFTP chroot directory: {{SFTP_ROOT_DIR}}
3. Configure firewall:
   - Allow inbound port 22 (SSH): {{FIREWALL_SSH_CMD}}
   - Restrict access to specific IP ranges
   - Configure fail2ban for intrusion prevention
4. Set up user accounts:
   - Create SFTP users for {{PROJECT_SHORT_NAME}} file transfers
   - Configure user permissions and directory access
   - Set up public key authentication
5. Configure logging and monitoring:
   - Enable detailed SSH logging in {{SSH_LOG_PATH}}
   - Set up log rotation with logrotate
   - Configure alerts for failed login attempts

# System Installation Schedule and Result

## System Installation Schedule

The following table summarises the testing schedule:

| Pre-Requisite | Start Date | End Date | Start time | End Time | N/A |---------------|------------|----------|------------|----------| N/A |---|---|---|---|---| N/A | Database Server Installation (Production and DR) | N/A |  | N/A |  | N/A |---|---|---|---|---| N/A | Backend Server Installation (Production and DR) | N/A |  | N/A |  | N/A |---|---|---|---|---| N/A | Frontend Server Installation (Production and DR) | N/A |  | N/A |  | N/A |---|---|---|---|---| N/A | Functionality test (VM & Networking) | N/A |  | N/A |  | N/A |---|---|---|---|---| N/A | Database setup | N/A |  | N/A |  | N/A |---|---|---|---|---| N/A | Deployment for 1st version of frontend server | N/A |  | N/A |  | N/A |---|---|---|---|---| N/A | Deployment for 1st version of backend server | N/A |  | N/A |  | N/A |---|---|---|---|---| N/A | Application Health Check | N/A |  | N/A |  | N/A |---|---|---|---|---| N/A | Deployment for Latest Mobile Application | N/A |  | N/A |  | N/A |---|---|---|---|---| N/A | Final Check Production Web Server | N/A |  | N/A |  | N/A |---|---|---|---|---| N/A | Final Check Production Database Server | N/A |  | N/A |  | N/A |---|---|---|---|---| N/A | Final Check DR Web & Database server | N/A |  | N/A |  | N/A |---|---|---|---|---| N/A | Final Check {{WEB_SERVER}} & Framework | N/A |  | N/A |  | N/A |---|---|---|---|---|
## System Installation Result

The following table summarises the actual system installation schedule:

| Pre-Requisite | Actual Start Date | Actual End Date | Actual Start time | Actual End Time | Status/Result | N/A |---------------|-------------------|-----------------|-------------------|-----------------|---------------| N/A |---|---|---|---|---|---| N/A | Database Server Installation (Production, UAT and DR) | N/A |  | N/A |  | N/A |
|---|---|---|---|---|---| N/A | Backend Server Installation (Production, UAT and DR) | N/A |  | N/A |  | N/A |
|---|---|---|---|---|---| N/A | Frontend Server Installation (Production, UAT and DR) | N/A |  | N/A |  | N/A |
|---|---|---|---|---|---| N/A | Functionality test (VM & Networking) | N/A |  | N/A |  | N/A |
|---|---|---|---|---|---| N/A | Database setup | N/A |  | N/A |  | N/A |
|---|---|---|---|---|---| N/A | Deployment for 1st version of frontend server | N/A |  | N/A |  | N/A |
|---|---|---|---|---|---| N/A | Deployment for 1st version of backend server | N/A |  | N/A |  | N/A |
|---|---|---|---|---|---| N/A | Application Health Check | N/A |  | N/A |  | N/A |
|---|---|---|---|---|---| N/A | Deployment for Latest Mobile Application | N/A |  | N/A |  | N/A |
|---|---|---|---|---|---| N/A | Final Check Production Web Server | N/A |  | N/A |  | N/A |
|---|---|---|---|---|---| N/A | Final Check Production Database Server | N/A |  | N/A |  | N/A |
|---|---|---|---|---|---| N/A | Final Check DR Web & DB server | N/A |  | N/A |  | N/A |
|---|---|---|---|---|---| N/A | Final Check {{WEB_SERVER}} & Framework | N/A |  | N/A |  | N/A |
|---|---|---|---|---|---|
<<End of Document>>
```

Okay, I've reviewed the provided text, which includes a user manual for the INTPMIS system and a User Requirement Specification (URS) document. Here's a summary and breakdown of the key aspects:

**1. System Overview (Based on User Manual and URS):**

*   **Purpose:** INTPMIS (I&T Project Management Information System) is designed to manage I&T projects within the Electrical and Mechanical Services Department (EMSD). It aims to improve upon existing systems by providing a centralized, user-friendly platform for data management, analysis, and reporting.
*   **Key Features:**
    *   **Project Management:** Creating, viewing, editing, searching, and exporting project information.
    *   **Wish List Management:** Managing and tracking "wishes" (presumably, desired improvements or innovations).
    *   **Solution Management:** Managing and tracking proposed solutions to address the wishes.
    *   **Reporting:** Generating various reports to analyze project trends, cash flow, technology usage, and expenditures.
    *   **Logging:** Tracking user actions and system events for auditing and monitoring.
    *   **User Roles:** Different user roles with varying levels of access and permissions (e.g., regular users, administrators).
*   **Login:** Supports SSO (Single Sign-On) via EMSD Active Directory and username/password login.
*   **Data Storage:** Uses a MySQL database to store project information, including text, data, reports, and attachments.
*   **Reporting:** The system provides a variety of reports, including:
    *   Trend of I&T Wishes, Solutions, and Matched Trial Projects
    *   Summary of I&T Wishes
    *   Distribution of I&T Solutions by Technology
    *   Cash Flow for Matched Trial Projects
    *   Statistics on I&T Projects
    *   Statistics Technology on I&T Projects
    *   Expenditure on I&T Projects

**2. User Procedures (Based on User Manual):**

*   **Login:** Detailed steps for both SSO and username/password login, including troubleshooting login failures.
*   **Project Management:**
    *   Browsing Project List: Filtering, searching, and exporting project data.
    *   Creating a Project: Step-by-step instructions with validation rules and error handling.
    *   Editing a Project: Modifying project information, including status updates and expenditure details.
*   **Wish List Management:** Browsing, searching, filtering, and editing wishes.
*   **Solution List Management:** Browsing, searching, filtering, and editing solutions.
*   **Search Function:** User can search project, wish or solution by used search function. The function allow user to select one or more special search criteria which are fields of the object.
*   **Export Function:** User can export all records after search in the table by clicked Export Records Button. The system would save all records to a csv file to user local file.
*   **Printing Report Function:** System allow user to printing all report by click the Print button, which in the right side of report search function. Then the system would be pop up a preview page for user adjust the printing setting.

**3. Administrator Procedures (Based on User Manual):**

*   **Project Editing:** Administrators have access to more fields for editing project information.
*   **Log List Management:** Viewing, filtering, exporting, and canceling reminders related to log entries.

**4. User Requirement Specification (URS):**

*   **Proposed System Overview:**  Highlights the improvements over the current system, including a user-friendly web portal, enhanced data management, data analysis capabilities, and workflow automation.
*   **Future Business Processes:** Lists the key business processes supported by the system (e.g., user login, viewing project lists, creating projects, etc.).
*   **UI & UX Design:** Provides screenshots of the user interface for various modules (login, project management, wish management, solution management, report management, log management).
*   **Functional Requirements:** Defines the specific functions the system must perform, including:
    *   Login (REQ-SYS-001)
    *   Project List (REQ-SYS-002)
    *   Create a Project (REQ-SYS-003)
    *   View or Edit a Project (REQ-SYS-004)
    *   Wish List (REQ-SYS-005)
    *   View or Edit a Wish (REQ-SYS-006)
    *   Solution List (REQ-SYS-007)
    *   View and Edit a Solution (REQ-SYS-008)
    *   Report List (REQ-SYS-009)
    *   View Report (REQ-SYS-010)
    *   Log List (REQ-SYS-011)
    *   View Log List (REQ-SYS-012)
    *   Upload File (REQ-SYS-013)
*   **Non-Functional Requirements:** Specifies the quality attributes of the system, including:
    *   Response Time (REQ-SR-001)
    *   Service Time (REQ-SR-002)
    *   Export (REQ-SR-003)
    *   Scalability (REQ-SR-004)
    *   System Performance (REQ-SR-005)
    *   User Interface Requirement (REQ-UR-001)
    *   Function Access Rights (REQ-SCR-001)
    *   Access to Data (REQ-SCR-002)
    *   System Backup (REQ-SCR-003)

**Key Observations and Potential Questions:**

*   **Terminology:**  The terms "Wish" and "Solution" are used extensively.  It would be helpful to have a clearer definition of what constitutes a "Wish" and a "Solution" in the context of I&T projects.
*   **User Roles and Permissions:** The document mentions different user roles and access rights.  A detailed matrix outlining the specific permissions for each role would be beneficial.
*   **Data Validation:** The user manual mentions data validation rules during project creation.  A comprehensive list of these rules would be helpful for developers and testers.
*   **Reporting Customization:** The URS mentions the ability to customize reports.  More details on the extent of customization options would be useful.
*   **Integration with Other Systems:** The URS mentions migrating existing I&T project information by interfacing with other systems.  Details on these integrations would be important.
*   **Non-Functional Requirements:** The non-functional requirements are relatively high-level.  More specific and measurable targets would be desirable (e.g., specific response time targets for different operations).

In summary, the documentation provides a good overview of the INTPMIS system, its features, and its requirements.  Addressing the key observations and potential questions above would further enhance the clarity and completeness of the documentation.


# System Installation Plan

This document outlines the system installation plan based on the provided requirements and specifications. It covers functional and technical requirements, focusing on system controls, backup, recovery, and disaster recovery.

## 1. Introduction

This plan details the necessary steps for installing and configuring the system, ensuring it meets the defined functional and non-functional requirements.  It addresses access control, data backup, recovery procedures, and disaster recovery capabilities.

## 2. Requirements Summary

This section summarizes the key requirements driving the system installation.

### 2.1 Functional Requirements (System Specification)

The system must provide the following functions:

*   **Information Viewing:**
    *   View Project List and Detail
    *   View Wish List and Detail
    *   View Solution List and Detail
    *   View Report List and Detail
    *   View Log List and Detail
    *   Search Projects
    *   Filter Projects
    *   Search Wishes
    *   Filter Wishes
    *   Search Solutions
    *   Filter Solutions
*   **Content Management:**
    *   Create a Project
    *   Edit a Project
    *   Edit a Wish
    *   Edit a Solution
    *   Cancel Reminder for Log
*   **Workflow Application:**
    *   Export Projects
    *   Export Wishes
    *   Export Solutions
    *   Export Report

### 2.2 Non-Functional Requirements (System Controls)

*   **REQ-SCR-002: Access to Data**
    *   Define access rights for users to access particular data, including conditional access.
    *   Define access monitoring for selected data.
*   **REQ-SCR-003: System Backup**
    *   Meet general backup requirements including data and system.
    *   Backup all audit logging information.

### 2.3 Technical Requirements (Backup, Recovery, and Disaster Recovery)

*   **TR-SBR-001: Server House Keeping**
    *   System logs must be archived to backup tape weekly.
*   **TR-SBR-002: Backup, Recovery and System Archive**
    *   Provide daily backup.
    *   Provide weekly system backup.
    *   Provide 2 generations of system backup stored off-site.
    *   Provide system activity logs and reports.
*   **TR-DRR-001: System Disaster Recovery**
    *   Participate in disaster recovery activities and complete all assigned activities following the procedures in the disaster recovery plan.
    *   Coordinate with new system users to participate in disaster recovery activities.
    *   Resume the whole system from the disaster recovery site to the normal production environment.

## 3. Installation Steps

This section outlines the high-level installation steps.  Detailed procedures will be documented separately.

1.  **Environment Setup:**
    *   Provision necessary server hardware and software.
    *   Configure network connectivity.
    *   Install operating system and required dependencies.
2.  **Application Installation:**
    *   Deploy the application code to the designated server(s).
    *   Configure the application settings.
    *   Verify application startup and basic functionality.
3.  **Database Setup:**
    *   Install and configure the database server.
    *   Create the necessary database schema.
    *   Import initial data (if applicable).
4.  **Access Control Configuration:**
    *   Implement user authentication and authorization mechanisms.
    *   Define user roles and permissions based on REQ-SCR-002.
    *   Configure access monitoring for sensitive data.
5.  **Backup and Recovery Configuration:**
    *   Configure daily and weekly backups as per TR-SBR-002.
    *   Implement off-site storage for backup generations.
    *   Configure system activity logs and reports.
    *   Implement weekly archiving of system logs to backup tape as per TR-SBR-001.
6.  **Disaster Recovery Setup:**
    *   Establish a disaster recovery site.
    *   Implement replication or backup mechanisms to the DR site.
    *   Document the disaster recovery plan, including procedures for system recovery (TR-DRR-001).
7.  **Testing and Validation:**
    *   Perform functional testing to verify all system functions are working as expected.
    *   Conduct performance testing to ensure the system meets performance requirements.
    *   Test the backup and recovery procedures.
    *   Conduct a disaster recovery simulation to validate the DR plan.
8.  **Documentation:**
    *   Document all installation and configuration steps.
    *   Create user manuals and training materials.
    *   Document the backup and recovery procedures.
    *   Document the disaster recovery plan.
9.  **Go-Live and Monitoring:**
    *   Deploy the system to the production environment.
    *   Monitor system performance and stability.
    *   Provide ongoing support and maintenance.

## 4. Roles and Responsibilities

| Role                | Responsibilities                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    